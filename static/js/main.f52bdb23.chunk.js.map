{"version":3,"sources":["intro.mp4","Video.js","Image.js","ImageList.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","timeout","Video","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","pauseVideo","event","setState","showVideo","showAssociation","selectAssociation","showIntro","state","introText","intro","src","convertTime","start","end","associations","films","arcs","handleClickOutside","bind","assertThisInitialized","value","splitValue","split","_this2","setTimeout","document","addEventListener","getNodes","fetch","response","json","responseJson","nodes","console","error","_context","t0","clearTimeout","removeEventListener","preventDefault","stopPropagation","node","contains","target","find","a","section","thumbnail","_this3","introComponent","videoComponent","associationComponent","react_default","createElement","className","autoPlay","onPause","type","map","onClick","alt","getThumbnail","associationText","ref","Component","Image","size","Math","random","angle","PI","store","x","y","dragging","disable_click","swipe","threshold","restraint","allowedTime","self","onDown","targetTouches","init","startX","pageX","startY","pageY","startTime","Date","getTime","gesture","onMove","x1","y1","left","offsetLeft","top","offsetTop","_ref","imageLeft","imageTop","onEnd","elapsedTime","length","abs","distX","distY","element","getElementById","id","height","clientHeight","width","clientWidth","showFlipside","zIndex","images","getElementsByTagName","i","parseInt","style","x2","y2","atan","sqrt","pow","twofinger","onefinger","size_ratio","_ref2","transform","dx","dy","_ref3","displayVideo","window","innerWidth","innerHeight","_this$state","flipside","class","objectSpread","video","src_Video_0","assign","onTouchStart","onTouchMove","onTouchEnd","onPointerDown","onPointerMove","onPointerUp","onPointerOut","ImageList","imageItems","film","toLowerCase","startsWith","src_Image_0","key","filter","source","App","component","require","src_ImageList","ReactDOM","render","src_App_0","e","passive"],"mappings":"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","file":"static/js/main.f52bdb23.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/intro.d8ffc850.mp4\";","import React, { Component } from 'react';\nimport './Video.css';\n\nlet timeout;\n\nclass Video extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showIntro: true,\n      showVideo: false,\n      showAssociation: false,\n      introText: this.props.intro,\n      src: this.props.src+'#t='+this.convertTime(this.props.start)+','+this.convertTime(this.props.end),\n      associations: this.props.associations,\n      films: [],\n      arcs: []\n    }\n    this.handleClickOutside = this.handleClickOutside.bind(this);\n  }\n\n  convertTime(value) {\n    var splitValue = value.split(':');\n    return (+splitValue[0]) * 60 + (+splitValue[1]);\n  }\n\n  componentDidMount() {\n    timeout = setTimeout(() => this.setState({showIntro: false, showVideo: true}), 5000);\n    document.addEventListener('click', this.handleClickOutside);\n    this.getNodes();\n  };\n\n  async getNodes() {\n    try {\n      let response = await fetch('https://raw.githubusercontent.com/gerdesque/pastforwardgraph/master/films.json');\n      let responseJson = await response.json();\n      this.setState({ films: responseJson.nodes, arcs: responseJson.arcs });\n     } catch(error) {\n      console.error(error);\n    }\n  }\n\n  componentWillUnmount() {\n    clearTimeout(timeout);\n    document.removeEventListener('click', this.handleClickOutside);\n  }\n\n  handleClickOutside(event) {\n    event.preventDefault();\n    event.stopPropagation();\n    if (this.node && !this.node.contains(event.target)) {\n    this.setState({\n      showIntro: false,\n      showVideo: false,\n      showAssociation: false\n    });\n    }\n  }\n\n  pauseVideo = event => {\n    this.setState({showVideo: false, showAssociation: true});\n  }\n\n  selectAssociation = event => {\n    //TODO: Set new association and start new intro/video\n    //let currentNode = this.state.films.find(a => a.section === target);\n    this.setState({\n      //introText: currentNode.intro,\n      //src: currentNode.video,\n      //associations:this.state.arcs.filter(a => a.source === target),\n      showIntro: true,\n      showVideo: false,\n      showAssociation: false\n    });\n  }\n\n  getThumbnail(target) {\n    let currentNode = this.state.films.find(a => a.section === target);\n    return currentNode.thumbnail;\n  }\n\n\n  render() {\n\n    let introComponent = null;\n    let videoComponent = null;\n    let associationComponent = null;\n  \n    if (this.state.showIntro) {\n      introComponent = (<div className=\"intro\"><p className=\"intro-Text\">{this.state.introText}</p></div>);\n    }\n    if (this.state.showVideo) {\n      videoComponent = (<video autoPlay onPause={this.pauseVideo}>\n        <source type=\"video/mp4\" src={this.state.src}></source>\n        Your browser does not support the video tag.\n      </video>);\n    }\n    if (this.state.showAssociation) {\n      let associations = this.state.associations.map((a) => <div className=\"association-Container\" onClick={this.selectAssociation}>\n      <img className=\"association-Image\" alt={a.target} src={this.getThumbnail(a.target)}/>\n      <p className=\"association-Text\">{a.associationText}</p>\n      </div>);\n      associationComponent = (<div className=\"association\">{associations}</div>);\n    }\n\n    return (<div className=\"Video\" ref={node => { this.node = node; }}>{introComponent}{videoComponent}{associationComponent}</div>);\n  }\n}\n\nexport default Video;\n","import React, { Component } from 'react';\nimport './Image.css';\nimport Video from './Video';\n\nclass Image extends Component {\n  size = (Math.random() * 0.25) + 0.5;\n  angle = (Math.random() * Math.PI / 4) * (-1 + Math.random() * 2);\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      imageLeft: Math.random() * (window.innerWidth / 2) + 'px',\n      imageTop: Math.random() * (window.innerHeight / 2) + 'px',\n      zIndex: this.props.id,\n      transform: 'rotate(' + this.angle + 'rad) scale(' + this.size + ')',\n      src: this.props.thumbnail,\n      showFlipside: false,\n      showVideo: false\n    };\n  }\n\n  store = [{x:-1, y:-1},{x:-1, y:-1}];\n  dragging = false;\n  disable_click = false;\n  swipe = false;\n  startX;\n  startY;\n  distX;\n  distY;\n  threshold = 100; //required min distance traveled to be considered swipe\n  restraint = 100; // maximum distance allowed at the same time in perpendicular direction\n  allowedTime = 500; // maximum time allowed to travel that distance\n  elapsedTime;\n  startTime;\n  self = this;\n\n  onDown = event => {\n    event.preventDefault();\n    event.stopPropagation();\n    this.disable_click = false;\n    if (!event.targetTouches) {\n      this.dragging = true;\n    }\n    this.self.init(event);\n    if (event.targetTouches) {\n      this.startX = event.targetTouches[0].pageX;\n      this.startY = event.targetTouches[0].pageY;\n      this.startTime = new Date().getTime(); \n      this.self.gesture(event);\n    }\n  };\n\n  onMove = event => {\n    event.preventDefault();\n    event.stopPropagation();\n    this.disable_click = true;\n    if (this.dragging) {\n      var x1 = event.pageX;\n      var y1 = event.pageY;\n      \n      if (this.store[0].x !== -1) {\n        var left = event.target.offsetLeft + x1 - this.store[0].x + 'px'\n        var top = event.target.offsetTop + y1 - this.store[0].y + 'px'\n        this.setState(({imageLeft, imageTop}) => ({\n          imageLeft: left,\n          imageTop: top\n        }));\n      }\n      this.store[0].x = x1;\n      this.store[0].y = y1;\n    }\n    if (event.targetTouches) {\n      this.self.gesture(event);\n    }\n  };\n\n  onEnd = event => {\n    event.preventDefault();\n    event.stopPropagation();\n    this.dragging = false;\n    if (event.targetTouches) {\n      this.elapsedTime = new Date().getTime() - this.startTime\n      if (event.targetTouches.length === 0 && this.elapsedTime <= this.allowedTime){\n        if ((Math.abs(this.distX) >= this.threshold && Math.abs(this.distY) <= this.restraint)\n        || (Math.abs(this.distY) >= this.threshold && Math.abs(this.distX) <= this.restraint)){ \n          this.swipe = !this.swipe;\n          var element = document.getElementById(this.props.id);\n          var height = element.clientHeight;\n          var width = element.clientWidth;\n          this.setState({src: this.swipe ? 'back.png' : this.props.thumbnail, showFlipside: !this.state.showFlipside});\n          element.height = height;\n          element.width = width;\n        }\n      }\n    }\n  }\n\n  init = () => {\n    this.store[0].x = this.store[0].y = this.store[1].x = this.store[1].y = -1;   \n    var zIndex = 0; // just using positive indices\n    var images = document.getElementsByTagName('img');\n    for (var i = 0; i < images.length; i++) {\n      if (parseInt(images[i].style.zIndex, 10) >= zIndex) {\n        zIndex = parseInt(images[i].style.zIndex, 10) + 1;\n      }\n    }\n    this.setState({zIndex: zIndex});\n  };\n\n  gesture = event => {\n    var x1 = 0;\n    var x2 = 0;\n    var y1 = 0;\n    var y2 = 0;\n    var angle = 0;\n    var size = 0;\n    this.distX = event.targetTouches[0].pageX - this.startX;\n    this.distY = event.targetTouches[0].pageY - this.startY;\n    if (event.targetTouches) {\n      if (event.targetTouches.length >= 2) {\n\n        // two (or more) fingers\n        x1 = event.targetTouches[0].pageX - event.target.offsetLeft;\n        y1 = event.targetTouches[0].pageY - event.target.offsetTop;\n        x2 = event.targetTouches[1].pageX - event.target.offsetLeft;\n        y2 = event.targetTouches[1].pageY - event.target.offsetTop;\n        if (this.store[0].x !== -1) {\n          angle = Math.atan((y2 - y1) / (x2 - x1)) - Math.atan((this.store[1].y - this.store[0].y) / (this.store[1].x - this.store[0].x));\n          if (Math.abs(angle) >= 3) { // jumped 180 degrees due to my poor math skills\n            angle = angle - Math.PI;\n          }\n          size = Math.sqrt(Math.pow((x1 - x2), 2) + Math.pow((y1 - y2), 2)) - Math.sqrt(Math.pow((this.store[0].x - this.store[1].x), 2) + Math.pow((this.store[0].y - this.store[1].y), 2));\n          this.twofinger(size, angle);\n        }\n        // store the values for later comparison\n        this.store[0].x = x1;\n        this.store[0].y = y1;\n        this.store[1].x = x2;\n        this.store[1].y = y2;\n\n      } else if (event.targetTouches.length === 1) {\n\n        // one finger\n        x1 = event.targetTouches[0].pageX;\n        y1 = event.targetTouches[0].pageY;\n        // check if user went from two fingers to one finger - otherwise movement offset is wrong depending on which finger was lifted\n        if (this.store[1].x !== -1) {\n          // treat the two-to-one change as a completely new gesture\n          this.init();\n        }\n        if (this.store[0].x !== -1) {\n          this.onefinger(x1 - this.store[0].x, y1 - this.store[0].y);\n        }\n        // store the values for later comparison\n        this.store[0].x = x1;\n        this.store[0].y = y1;\n      }\n    }\n  };\n\n  twofinger = (size, angle) => {\n    var element = document.getElementById(this.props.id);\n    var size_ratio = ((element.width * this.size) + size) / (element.width * this.size);\n    this.size *= size_ratio;\n    if (this.size < 0.5) {\n      this.size = 0.5;\n    }\n    if (this.size > 1) {\n      this.size = 1;\n    }\n    this.angle += angle;\n    this.setState(({transform}) => ({\n      transform: 'rotate(' + this.angle + 'rad) scale(' + this.size + ')'\n    }));\n  };\n\n  onefinger = (dx, dy) => {\n    var element = document.getElementById(this.props.id);\n    this.setState(({imageLeft, imageTop}) => ({\n      imageLeft: element.offsetLeft + dx + 'px',\n      imageTop: element.offsetTop + dy + 'px',\n    }));\n  };\n\n  displayVideo = () => {\n    if (!this.disable_click) {\n      this.setState({showVideo: !this.state.showVideo})\n    }\n  }\n\n  render() {\n    const {imageLeft, imageTop, zIndex, transform} = this.state;\n    let style = {\n      left: imageLeft,\n      top: imageTop,\n      zIndex: zIndex,\n      transform: transform\n    };\n\n    let flipside = null;\n    if (this.state.showFlipside) {\n      flipside = (<p class=\"Image-text\" style={{...style}} onClick={this.displayVideo}>Kaiser Wilhelm beim Entenfüttern</p>)\n    }\n\n    let video = null;\n    if (this.state.showVideo) {\n      video = (<Video {...this.props} src={this.props.video}/>)\n    }\n\n    return (\n      <div>\n      <img {...this.props} src={this.state.src} style={{...style}}\n        onTouchStart={this.onDown}\n        onTouchMove={this.onMove}\n        onTouchEnd={this.onEnd}\n        onPointerDown={this.onDown}\n        onPointerMove={this.onMove}\n        onPointerUp={this.onEnd}\n        onPointerOut={this.onEnd}\n        onClick={this.displayVideo}\n      />\n      {flipside}\n      {video}\n      </div>\n    )\n  }\n}\n\nexport default Image;\n","import React, { Component } from 'react';\nimport Image from './Image';\n\nclass ImageList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { \n      films: [],\n      associations: []\n    };\n  }\n\n  async componentDidMount() {\n    try {\n      let response = await fetch('https://raw.githubusercontent.com/gerdesque/pastforwardgraph/master/films.json');\n      let responseJson = await response.json();\n      this.setState({ films: responseJson.nodes, associations: responseJson.arcs });\n     } catch(error) {\n      console.error(error);\n    }\n  }\n\n  render() {\n    const imageItems = this.state.films.map((film) =>\n      (!film.thumbnail.toLowerCase().startsWith(\"todo\")) ?\n      <Image key={film.id} {...film} associations={this.state.associations.filter(a => a.source === film.section)}/>\n      : null);\n      return (<div className=\"ImageList\">{imageItems}</div>);\n  }\n}\n\nexport default ImageList;\n","import React, { Component } from 'react';\nimport './App.css';\nimport ImageList from './ImageList';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showIntro: true\n    }\n  }\n\n  pauseVideo = event => {\n    this.setState({showIntro: false});\n  }\n\n  render() {\n    let component = null;\n    if (this.state.showIntro) {\n      component = (<video autoPlay onPause={this.pauseVideo}>\n        <source type=\"video/mp4\" src={require('./intro.mp4')}></source>\n        Your browser does not support the video tag.\n      </video>);\n    } else {\n      component = (<ImageList/>)\n    }\n\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <span className=\"App-past\">past</span><span className=\"App-forward\">forward</span>\n        </header>\n        {component}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n  ReactDOM.render(<App />, document.getElementById('root'));\n  document.addEventListener('touchmove',\n  function(e) {\n      e.preventDefault();\n  }, {passive:false});\n"],"sourceRoot":""}